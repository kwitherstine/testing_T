# -*- mode: ruby -*-
# vi: set ft=ruby :

# I've removed swp10-30 on the 54 port switches because of problems with vagrant scale to only 36 network devices

groups = {
  "access" => ["MDC1-22-OCP-ACCESSA", "MDC1-22-OCP-ACCESSB"],
  "spines" => ["MDC1-19-OCP-SPINEA", "MDC1-19-OCP-SPINEB"],
  "leafs" => ["MDC1-19-DOCP-TORA", "MDC1-19-DOCP-TORB", "RR3-05-QOCP-TORA", "RR3-05-QOCP-TORB"],
  "servers" => ["server1", "server2"],
  "network:children" => ["access", "spines", "leafs"],
  "a-leafs" => ["MDC1-19-DOCP-TORA", "RR3-05-QOCP-TORA"],
  "b-leafs" => ["MDC1-19-DOCP-TORB", "RR3-05-QOCP-TORB"],
  "a-spines" => ["MDC1-19-OCP-SPINEA"],
  "b-spines" => ["MDC1-19-OCP-SPINEB"],
  "a-access" => ["MDC1-22-OCP-ACCESSA"],
  "b-access" => ["MDC1-22-OCP-ACCESSB"]
}


Vagrant.configure("2") do |config|

  cumulus_image = "CumulusCommunity/cumulus-vx"
  server_image = "ubuntu/trusty64"
  link_seed = Random.rand(999.999).to_s

  config.vm.define "MDC1-22-OCP-ACCESSA" do |vx| 
    vx.vm.box = cumulus_image
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-MDC1-22-OCP-ACCESSB-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp2-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp3-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp4-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp5-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp6-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp7-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp8-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp9-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp31-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp32-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp33-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp34-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp35-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp36-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp37-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp38-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp39-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp40-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp41-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp42-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp43-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp44-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp45-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp46-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp47-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp48-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-MDC1-19-OCP-SPINEA-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-MDC1-19-OCP-SPINEB-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp51-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp52-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp53-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-swp54-' + link_seed, auto_config: false
    vx.vm.host_name = "MDC1-22-OCP-ACCESSA"
    
    vx.vm.provision "ansible" do |ansible|
      ansible.groups = groups
      #ansible.verbose = "vvv"
      ansible.playbook = "provision.yml"
    end

    vx.vm.provider "virtualbox" do |v|
      v.customize ["modifyvm", :id, "--nicpromisc2", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc3", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc4", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc5", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc6", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc7", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc8", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc9", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc10", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc32", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc33", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc34", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc35", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc36", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc37", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc38", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc39", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc40", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc41", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc42", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc43", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc44", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc45", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc46", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc47", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc48", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc49", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc50", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc51", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc52", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc53", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc54", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc55", "allow-vms"]
    end
  end

  config.vm.define "MDC1-22-OCP-ACCESSB" do |vx|
    vx.vm.box = cumulus_image
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-MDC1-22-OCP-ACCESSB-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp2-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp3-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp4-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp5-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp6-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp7-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp8-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp9-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp31-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp32-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp33-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp34-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp35-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp36-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp37-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp38-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp39-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp40-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp41-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp42-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp43-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp44-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp45-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp46-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp47-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp48-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-MDC1-19-OCP-SPINEA-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-MDC1-19-OCP-SPINEB-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp51-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp52-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp53-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-swp54-' + link_seed, auto_config: false
    vx.vm.host_name = "MDC1-22-OCP-ACCESSB"
    
    vx.vm.provision "ansible" do |ansible|
      ansible.groups = groups
      #ansible.verbose = "vvv"
      ansible.playbook = "provision.yml"
    end

    vx.vm.provider "virtualbox" do |v|
      v.customize ["modifyvm", :id, "--nicpromisc2", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc3", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc4", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc5", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc6", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc7", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc8", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc9", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc10", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc32", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc33", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc34", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc35", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc36", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc37", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc38", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc39", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc40", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc41", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc42", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc43", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc44", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc45", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc46", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc47", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc48", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc49", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc50", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc51", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc52", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc53", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc54", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc55", "allow-vms"]
    end
  end

  config.vm.define "MDC1-19-DOCP-TORA" do |vx| 
    vx.vm.box = cumulus_image
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp1-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp2-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp3-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp4-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp5-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp6-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp7-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp8-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp9-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp31-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp32-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp33-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp34-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp35-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp36-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-server1-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp38-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp39-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp40-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp41-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp42-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp43-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp44-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp45-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp46-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-MDC1-19-DOCP-TORB-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp48-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-MDC1-19-DOCP-TORA-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-MDC1-19-DOCP-TORA-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp51-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp52-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp53-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-swp54-' + link_seed, auto_config: false
    vx.vm.host_name = "MDC1-19-DOCP-TORA"

    vx.vm.provision "ansible" do |ansible|
      ansible.groups = groups
      #ansible.verbose = "vvv"
      ansible.playbook = "provision.yml"
    end

    vx.vm.provider "virtualbox" do |v|
      v.customize ["modifyvm", :id, "--nicpromisc2", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc3", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc4", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc5", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc6", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc7", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc8", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc9", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc10", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc32", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc33", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc34", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc35", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc36", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc37", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc38", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc39", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc40", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc41", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc42", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc43", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc44", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc45", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc46", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc47", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc48", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc49", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc50", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc51", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc52", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc53", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc54", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc55", "allow-vms"]
    end
  end
  
  config.vm.define "MDC1-19-DOCP-TORB" do |vx|
    vx.vm.box = cumulus_image 
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp1-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp2-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp3-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp4-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp5-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp6-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp7-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp8-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp9-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp31-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp32-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp33-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp34-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp35-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp36-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-server1-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp38-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp39-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp40-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp41-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp42-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp43-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp44-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp45-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp46-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-MDC1-19-DOCP-TORB-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp48-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-MDC1-19-DOCP-TORB-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-MDC1-19-DOCP-TORB-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp51-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp52-' + link_seed, auto_confib: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp53-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-swp54-' + link_seed, auto_config: false
    vx.vm.host_name = "MDC1-19-DOCP-TORB"
    
    vx.vm.provision "ansible" do |ansible|
      ansible.groups = groups
      ansible.playbook = "provision.yml"
    end

    vx.vm.provider "virtualbox" do |v|
      v.customize ["modifyvm", :id, "--nicpromisc2", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc3", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc4", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc5", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc6", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc7", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc8", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc9", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc10", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc32", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc33", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc34", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc35", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc36", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc37", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc38", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc39", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc40", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc41", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc42", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc43", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc44", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc45", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc46", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc47", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc48", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc49", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc50", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc51", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc52", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc53", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc54", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc55", "allow-vms"]
    end
  end

  config.vm.define "RR3-05-QOCP-TORA" do |vx| 
    vx.vm.box = cumulus_image
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORA-swp1-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORA-swp2-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORA-swp3-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORA-swp4-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORA-swp5-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORA-swp6-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORA-swp37-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORA-server2-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORA-swp39-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORA-swp40-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORA-swp41-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORA-swp42-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORA-swp48-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-RR3-05-QOCP-TORA-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-RR3-05-QOCP-TORA-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORA-RR3-05-QOCP-TORB1-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORA-RR3-05-QOCP-TORB2-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORA-swp53-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORA-swp54-' + link_seed, auto_config: false
    vx.vm.host_name = "RR3-05-QOCP-TORA"
    
    vx.vm.provision "ansible" do |ansible|
      ansible.groups = groups
      ansible.playbook = "provision.yml"
    end

    vx.vm.provider "virtualbox" do |v|
      v.customize ["modifyvm", :id, "--nicpromisc2", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc3", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc4", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc5", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc6", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc7", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc38", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc39", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc40", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc41", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc42", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc43", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc49", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc50", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc51", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc52", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc53", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc54", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc55", "allow-vms"]
    end
  end

  config.vm.define "RR3-05-QOCP-TORB" do |vx| 
    vx.vm.box = cumulus_image
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORB-swp1-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORB-swp2-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORB-swp3-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORB-swp4-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORB-swp5-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORB-swp6-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORB-swp37-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORB-server2-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORB-swp39-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORB-swp40-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORB-swp41-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORB-swp42-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORB-swp48-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-RR3-05-QOCP-TORB-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-RR3-05-QOCP-TORB-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORA-RR3-05-QOCP-TORB1-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORA-RR3-05-QOCP-TORB2-' + link_seed, auto_config: false
    vx.vm.host_name = "RR3-05-QOCP-TORB"
    
    vx.vm.provision "ansible" do |ansible|
      ansible.groups = groups
      ansible.playbook = "provision.yml"
    end

    vx.vm.provider "virtualbox" do |v|
      v.customize ["modifyvm", :id, "--nicpromisc2", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc3", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc4", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc5", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc6", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc7", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc38", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc39", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc40", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc41", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc42", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc43", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc49", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc50", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc51", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc52", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc53", "allow-vms"]

    end
  end

  config.vm.define "MDC1-19-OCP-SPINEA" do |vx| 
    vx.vm.box = cumulus_image
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-MDC1-19-OCP-SPINEB-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp2-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp3-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp4-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp5-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp6-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp7-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp8-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp9-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp10-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp11-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp12-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp13-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp14-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp15-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp16-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp17-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp18-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp19-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp20-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp21-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp22-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp23-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp24-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp25-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-swp26-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-RR3-05-QOCP-TORA-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-RR3-05-QOCP-TORB-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-MDC1-19-DOCP-TORA-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-MDC1-19-DOCP-TORB-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-MDC1-22-OCP-ACCESSA-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-MDC1-22-OCP-ACCESSB-' + link_seed, auto_config: false
    vx.vm.host_name = "MDC1-19-OCP-SPINEA"
    
    vx.vm.provision "ansible" do |ansible|
      ansible.groups = groups
      ansible.playbook = "provision.yml"
    end

    vx.vm.provider "virtualbox" do |v|
      v.customize ["modifyvm", :id, "--nicpromisc2", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc3", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc4", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc5", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc6", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc7", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc8", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc9", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc10", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc11", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc12", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc13", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc14", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc15", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc16", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc17", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc18", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc19", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc20", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc21", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc22", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc23", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc24", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc25", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc26", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc27", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc28", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc29", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc20", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc31", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc32", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc33", "allow-vms"]
    end
  end

  config.vm.define "MDC1-19-OCP-SPINEB" do |vx| 
    vx.vm.box = cumulus_image
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEA-MDC1-19-OCP-SPINEB-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp2-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp3-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp4-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp5-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp6-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp7-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp8-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp9-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp10-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp11-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp12-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp13-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp14-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp15-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp16-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp17-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp18-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp19-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp20-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp21-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp22-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp23-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp24-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp25-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-swp26-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-RR3-05-QOCP-TORA-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-RR3-05-QOCP-TORB-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-MDC1-19-DOCP-TORA-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-OCP-SPINEB-MDC1-19-DOCP-TORB-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSA-MDC1-19-OCP-SPINEB-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-22-OCP-ACCESSB-MDC1-19-OCP-SPINEB-' + link_seed, auto_config: false
    vx.vm.host_name = "MDC1-19-OCP-SPINEB"
    
    vx.vm.provision "ansible" do |ansible|
      ansible.groups = groups
      ansible.playbook = "provision.yml"
    end

    vx.vm.provider "virtualbox" do |v|
      v.customize ["modifyvm", :id, "--nicpromisc2", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc3", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc4", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc5", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc6", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc7", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc8", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc9", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc10", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc11", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc12", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc13", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc14", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc15", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc16", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc17", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc18", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc19", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc20", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc21", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc22", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc23", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc24", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc25", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc26", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc27", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc28", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc29", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc20", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc31", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc32", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc33", "allow-vms"]
    end

  end

  config.vm.define "server1" do |vx| 
    vx.vm.box = server_image
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORA-server1-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'MDC1-19-DOCP-TORB-server1-' + link_seed, auto_config: false
    vx.vm.host_name = "server1"
    
    vx.vm.provision "ansible" do |ansible|
      ansible.groups = groups
      #ansible.verbose = "vvvv"
      ansible.playbook = "provision.yml"
    end

    vx.vm.provider "virtualbox" do |v|
      v.customize ["modifyvm", :id, "--nicpromisc2", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc3", "allow-vms"]
    end
  end
  
  config.vm.define "server2" do |vx| 
    vx.vm.box = server_image
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORA-server2-' + link_seed, auto_config: false
    vx.vm.network "private_network",  virtualbox__intnet: 'RR3-05-QOCP-TORB-server2-' + link_seed, auto_config: false
    vx.vm.host_name = "server2"
    
    vx.vm.provision "ansible" do |ansible|
      ansible.groups = groups
      ansible.playbook = "provision.yml"
    end

    vx.vm.provider "virtualbox" do |v|
      v.customize ["modifyvm", :id, "--nicpromisc2", "allow-vms"]
      v.customize ["modifyvm", :id, "--nicpromisc3", "allow-vms"]
    end
  end


end
